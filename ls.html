<!doctype html>
<head>
  <meta charset="UTF-8">
</head>
<body>
  <button id="viewTextBtn">View Text</button>
  <div id="statusDisplay"></div>
  
  <script>
    document.getElementById('viewTextBtn').addEventListener('click', async function() {
      const statusDiv = document.getElementById('statusDisplay');
      if (!document.hasStorageAccess) {
        statusDiv.innerHTML = '<div class="status error">❌ This browser does not support storage access.</div>';
        // Still show the text content
        return;
      }
      
      document.requestStorageAccess().then((permission) => {
        // Check current permission status
        if (permission === 'granted') {
          statusDiv.innerHTML = '<div class="status success">✅ Storage access enabled! Showing content...</div>';
        } else if (permission === 'denied') {
          statusDiv.innerHTML = '<div class="status error">❌ Storage access is blocked.</div>';
        }});
        const textDiv = document.createElement('div');
        textDiv.innerHTML = '<p>It is a truth universally acknowledged, that a single man in possession of a good fortune must be in want of a wife. However little known the feelings or views of such a man may be on his first entering a neighbourhood, this truth is so well fixed in the minds of the surrounding families, that he is considered as the rightful property of some one or other of their daughters.</p>';
        document.body.appendChild(textDiv);
      });
    </script>
  </body>
  