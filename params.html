<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Query Parameter Checker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .parameter {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .parameter.found {
            border-color: #f44336;
            background-color: #ffebee;
        }
        .parameter.not-found {
            border-color: #4CAF50;
            background-color: #e8f5e9;
        }
        .param-name {
            font-weight: bold;
            font-size: 16px;
        }
        .param-value {
            font-family: monospace;
            color: #666;
            max-width: 300px;
            word-break: break-all;
        }
        .status {
            padding: 5px 15px;
            border-radius: 20px;
            color: white;
            font-weight: bold;
        }
        .status.found {
            background-color: #f44336;
        }
        .status.not-found {
            background-color: #4CAF50;
        }
        .current-url {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            word-break: break-all;
        }
        .summary {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background-color: #f0f0f0;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>URL Query Parameter Checker</h1>
        
        <div class="current-url">
            <strong>Current URL:</strong> <span id="currentUrl"></span>
        </div>
        
        <div id="results"></div>
        
        <div class="summary">
            <h3>Summary</h3>
            <p id="summaryText"></p>
        </div>
    </div>

    <script>
        // Parameters to check for
        const parametersToCheck = ['fbclid', 'q', 'fb_source', 'utm_source', 'utm_medium'];
        
        // Get current URL and parse query parameters
        const currentUrl = window.location.href;
        const urlParams = new URLSearchParams(window.location.search);
        
        // Display current URL
        document.getElementById('currentUrl').textContent = currentUrl;
        
        // Check each parameter
        const results = parametersToCheck.map(param => {
            const value = urlParams.get(param);
            return {
                name: param,
                found: value !== null,
                value: value
            };
        });
        
        // Display results
        const resultsContainer = document.getElementById('results');
        results.forEach(result => {
            const paramDiv = document.createElement('div');
            paramDiv.className = `parameter ${result.found ? 'found' : 'not-found'}`;
            
            paramDiv.innerHTML = `
                <div class="param-name">${result.name}</div>
                <div class="param-value">${result.found ? result.value : 'Not present'}</div>
                <div class="status ${result.found ? 'found' : 'not-found'}">
                    ${result.found ? 'Found' : 'Not Found'}
                </div>
            `;
            
            resultsContainer.appendChild(paramDiv);
        });
        
        // Generate summary
        const foundParams = results.filter(r => r.found);
        const summaryText = document.getElementById('summaryText');
        
        if (foundParams.length === 0) {
            summaryText.innerHTML = `<strong>No target parameters found</strong> in the current URL.`;
        } else if (foundParams.length === parametersToCheck.length) {
            summaryText.innerHTML = `<strong>All ${parametersToCheck.length} parameters found!</strong>`;
        } else {
            summaryText.innerHTML = `<strong>${foundParams.length} out of ${parametersToCheck.length} parameters found:</strong><br>
                ${foundParams.map(p => p.name).join(', ')}`;
        }
        
        // Log results to console for debugging
        console.log('URL Parameter Check Results:', results);
    </script>
</body>
</html>